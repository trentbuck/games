# I like playing with perk_bloody_mess mutation, so
# I do not have to pulp zombies.
# That sends splatter EVERYWHERE, so
# then I end up swapping to a mop to clear that away.
# It'd be nice if my gun had a mop attachment to do that continuously...
- id: gun_mop
  type: ITEM
  subtypes:
   - GUNMOD
  copy-from: match_trigger
  name:
    str: prehensile snout
  description:
    There's a... thing hanging off your gun, ingesting nearby gore.
  flags:
    - MOP
  # You don't actually nee this bit.
  # use_action:
  #   - MOP


# https://www.keltecweapons.com/firearm/rifles/sub2000-series/
# https://www.keltecweapons.com/firearm/rifles/sub2000-cqb/
#
# Sub2000      Sub2000 CQB
# ===========  ===========
# 1.9kg        2.34kg            mass
# 775mm        775mm             overall length
# 742mm        742mm             length collapsed
# 410mm        413mm             length folded
# 410mm        410mm / 108m      barrel length
# 1:254mm      1:254mm           twist rate
# 22N          42N               trigger pull
#
# No info about the suppressor itself.
- id: ksub2000cqb
  type: GUN
  copy-from: ksub2000
  name:
    str: suppressed Glock carbine
  variants:
    - id: ksub2000cqb
      name: Kel-Tec SUB CQB suppressed carbine
      description:
        The 9mm SUB CQB was developed with personal defense in mind.
        Integrated noise suppression offers a tactical advantage while protecting the defender from decibel chaos.
        We highly recommend you utilize the integrated picatinny rails.
        Add a combat light and quality optic to this quiet little protector for positive threat identification and target acquisition.
  weight: 2340 g
  built_in_mods:
    - sub2000_folding_mechanism
    - sub2000cqb_suppressor
- id: sub2000cqb_suppressor
  type: ITEM
  subtypes:
   - GUNMOD
  copy-from: mp5sd_suppressor
  name:
    str: SUB CQB integral suppressor


# Resurrect the riv_suppressor which was removed after 0.G.
# https://cdda-guide.nornagon.net/item/riv_suppressor?v=0.G
- id: riv_suppressor_twb
  copy-from: suppressor
  type: ITEM
  subtypes:
   - GUNMOD
  name:
    str: RK6S34 suppressor
  description:
    A suppressor reduces the amount of noise and muzzle flash generated by the report of a firearm.
    This RK6S34 Mustela is a rather advanced version integral to the RM11B rifle system.
  weight: 0 g
  volume: 0 ml
  price: 1 USD
  install_time: 0 s
  material:
    - superalloy
    - ceramic
  mod_targets:
    - rifle
  handling_modifier: 0
  proportional:
    loudness_modifier: 2
  flags:
    - IRREMOVABLE


# Old commentary:
#
#     The knife is real fast and fun for combat, but
#     I would also like to have something with reach attacks.
#     What's the difference between REACH_ATTACK and REACH3?
#     The latter is only on bullwhip and pike (all variants).
#     The RM42 actually gives REACH_ATTACK when mounted on a gun.
#     Although I think then I have to NOT use Taekwondo, so
#     I attack with my bayonet instead of my feet...
#
#     I also had fun running around with a sword for a while (with Ni-ten Ichi-Ryu).
#
#     kukri is better stamina and speed, except against heavily armoured dudes - and only slightly worse against those.
#     It has worse block, but still works with Ninjutsu techniques.
#     kukri is purely better than survivor_machete_qt, except for blocking and grass cutting (who cares?)
#     kukri is slightly slower but better stamina than qt_knife_trench.
#     kukri is much longer but a bit lighter than qt_knife_trench.
#     qt_knife_trench does pierce, so it's a different kind of attack.
#
# I want basically a bayonet/spear version of the RM42 knife.
# https://docs.cataclysmdda.org/GAME_BALANCE.html#melee-weapons
# Hrm, I should be looking for a balance of:
#
#    stamina cost per attack
#    base moves per attack
#    damage-per-[second|stamina] vs [agile|armored]
#
# Armored enemies are relatively rare, so
# it makes sense to optimize mainly for fast anti-agile weapons.
# The monomolecular blade might be abother candidate.
- type: GENERIC
  # id: kylie
  # name:
  #   str: buloke kylie
  # description:
  #   He was also holding a boomerang, and it wasn't one of those toy ones that came back.
  #   This was one of the big, heavy, gently curved sort that didn't come back because
  #   it was sticking in something's ribcage.
  #   You could laugh at the idea of wooden weapons until you saw the kind of wood that grew here.
  id: xylospongium
  name:
    str: xylospongium
  description:
    Seneca the Younger reported that a Germanic gladiator died by suicide with a sponge on a stick.
    He hid in the latrine of an amphitheatre and pushed the wooden stick deep into his throat.
  copy-from: knife_rm42
  extend:
    flags:
      - MOP  # Melee weapons cannot have gun mods, so add auto-mop capability directly.
      - SPEAR
      - REACH_ATTACK
      - REACH3
      # - DIAMOND
    techniques:
      - IMPALE
      - RAPID
      - PRECISE
      - WIDE
      - SWEEP
      - BRUTAL
      - WBLOCK_2
    weapon_category:
      - POLEARMS
      - SPEARS
  qualities: []
  to_hit:
    grip: weapon
    length: long
    surface: point
    balance: good
  repairs_with: [steel]
